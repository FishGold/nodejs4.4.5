/**
 * Created by zss on 2016/8/5.
 */
//常用buffer操作
exports.fun1 = function(){
    var buffer1=  new Buffer("Ab");
    var buffer2 = new Buffer('W');
    var buffer3 = Buffer.concat([buffer1,buffer2]);//缓冲区合并
    console.log(buffer3.toString());
    var a=buffer1.compare(buffer2);//比较
    console.log(a);
    var str = [1,2,3,4,5];
    str.slice(1,2);
    console.log(str);
}
exports.fun2 = function(){
    var fs = require("fs");
    var data = '';
    var readerStream  = fs.createReadStream("txt");
    readerStream.setEncoding("utf8");
    readerStream.on('data',function(chunk){
        console.log(chunk);
        data+=chunk;
    })
    readerStream.on('end',function(){
        console.log(data);
    })
    readerStream.on('error',function(err){
        console.log(err.stack);
    })
}
exports.fun3 = function(){
    var fs = require("fs");
    var zip = require("zlib");

    //压缩 txt 文件为 txt.zip
    fs.createReadStream('txt')
        .pipe(zlib.createGzip())
        .pipe(fs.createWriteStream('txt.gz'));
    console.log("文件压缩完成")
}
